<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Favorites</title>
    <link rel="stylesheet" href="/static/style.css">
    <div class="top-bar">
        <img class="logo-image" src="/static/images/Logo_Chatmmy_2.jpeg" alt="Chatmmy Logo">
        <span class="logo">Chatmmy</span>
    </div>
    
    <script type="text/javascript">
        var _iub = _iub || [];
        _iub.csConfiguration = {"siteId":3869842,"cookiePolicyId":92010610,"lang":"en","storage":{"useSiteId":true}};
        </script>
        <script type="text/javascript" src="https://cs.iubenda.com/autoblocking/3869842.js"></script>
        <script type="text/javascript" src="//cdn.iubenda.com/cs/gpp/stub.js"></script>
        <script type="text/javascript" src="//cdn.iubenda.com/cs/iubenda_cs.js" charset="UTF-8" async>
    </script>

</head>

<body>
    <h1 style="margin-top: 60px;">Your Favorite Users</h1>
    <div class="favorites-container">
    {% for favorite in favorites %}
    <div class="favorite-user">
        <img src="{{ url_for('static', filename=favorite.photo) }}" alt="{{ favorite.username }}" style="width: 110px; height: 110px; border-radius: 50%; margin-top: 50px;">
        <p><strong style="font-size: 24px; color: rgb(255, 140, 0); padding: 8px 16px; margin-top: 30px">{{ favorite.username }}</strong></p>
        <p style="font-size: 20px; margin-top: 20px">Age: {{ favorite.age }}</p>
        <p style="font-size: 20px;">Gender: {{ favorite.gender }}</p>
        <p style="font-size: 20px;">Chat Language: <span style="color: rgb(51, 120, 11);">{{ favorite.chatlanguage }}</span></p>


            <form action="/chat/{{ favorite.id }}" method="GET">
                <button type="submit" style="background-color: rgb(49, 124, 204); color: white; padding: 8px 16px; border: none; border-radius: 20px; cursor: pointer; text-align: center; font-size: 1rem;">
                    Chat
                </button>
            </form>
            <form action="/remove_favorite/{{ favorite.id }}" method="GET">
                <button type="button" style="background-color: rgb(206, 74, 73); color: white; padding: 8px 16px; border: none; border-radius: 20px; cursor: pointer; text-align: center; font-size: 1rem;" onclick="showRemoveAlert(event)">
                    Remove
                </button>
            </form>
            
            <div id="removeAlert" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: white; border: 1px solid #ccc; border-radius: 10px; box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); width: 300px; padding: 20px; text-align: center; z-index: 1000;">
                <p style="margin-bottom: 20px; font-size: 1.2rem;">Attention! Do you want to permanently remove the user from Favorites?</p>
                <button onclick="confirmRemoval()" style="background-color: rgb(206, 74, 73); color: white; border: none; border-radius: 5px; padding: 10px 20px; cursor: pointer; margin-right: 10px;">Confirm removal</button>
                <button onclick="closeRemoveAlert()" style="background-color: #ccc; color: black; border: none; border-radius: 5px; padding: 10px 20px; cursor: pointer;">Cancel</button>
            </div>
            
            <script>
                function showRemoveAlert(event) {
                    event.preventDefault(); // Prevent form submission
                    document.getElementById("removeAlert").style.display = "block";
                }
            
                function closeRemoveAlert() {
                    document.getElementById("removeAlert").style.display = "none";
                }
            
                function confirmRemoval() {
                    const form = document.querySelector("form[action='/remove_favorite/{{ favorite.id }}']");
                    if (form) {
                        form.submit();
                    }
                }
            </script>
                          
            
        </div>
        {% endfor %}
    </div>
    <button type="button" class="btn-secondary" onclick="window.location.href='/home';" style="padding: 8px 16px; font-size: 1rem; border-radius: 20px; background-color: rgb(206, 74, 73); color: white; border: none; cursor: pointer;">
        Back to Home
    </button>
    
<footer>
    <p style="font-size: 15px;">&copy; {{ year }} Chatmmy.com. All Rights Reserved.</p>
    <a href="https://www.iubenda.com/privacy-policy/92010610" class="iubenda-white iubenda-noiframe iubenda-embed iubenda-noiframe" title="Privacy Policy">Privacy Policy</a>
    <script type="text/javascript">
        (function (w,d) {
            var loader = function () {
                var s = d.createElement("script"), tag = d.getElementsByTagName("script")[0];
                s.src="https://cdn.iubenda.com/iubenda.js";
                tag.parentNode.insertBefore(s,tag);
            };
            if(w.addEventListener){
                w.addEventListener("load", loader, false);
            }else if(w.attachEvent){
                w.attachEvent("onload", loader);
            }else{
                w.onload = loader;
            }
        })(window, document);
    </script>
    
<a href="https://www.iubenda.com/privacy-policy/92010610/cookie-policy" class="iubenda-white iubenda-noiframe iubenda-embed iubenda-noiframe" title="Cookie Policy">Cookie Policy</a>
    <script type="text/javascript">
        (function (w,d) {
            var loader = function () {
                var s = d.createElement("script"), tag = d.getElementsByTagName("script")[0];
                s.src="https://cdn.iubenda.com/iubenda.js";
                tag.parentNode.insertBefore(s,tag);
            };
            if(w.addEventListener){
                w.addEventListener("load", loader, false);
            }else if(w.attachEvent){
                w.attachEvent("onload", loader);
            }else{
                w.onload = loader;
            }
        })(window, document);
    </script>
<a href="https://www.iubenda.com/terms-and-conditions/92010610" class="iubenda-white iubenda-noiframe iubenda-embed iubenda-noiframe" title="Terms and Conditions">Terms and Conditions</a>
    <script type="text/javascript">
        (function (w,d) {
            var loader = function () {
                var s = d.createElement("script"), tag = d.getElementsByTagName("script")[0];
                s.src="https://cdn.iubenda.com/iubenda.js";
                tag.parentNode.insertBefore(s,tag);
            };
            if(w.addEventListener){
                w.addEventListener("load", loader, false);
            }else if(w.attachEvent){
                w.attachEvent("onload", loader);
            }else{
                w.onload = loader;
            }
        })(window, document);
    </script>
</footer>

</body>
</html>
